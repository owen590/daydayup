// ç®€åŒ–ç‰ˆå°å­¦æ±‰å­—ç”Ÿæˆè„šæœ¬
// ç”Ÿæˆ500ä¸ªç¬¦åˆå°å­¦è¦æ±‚çš„å¸¸ç”¨æ±‰å­—
// ç›´æ¥å†™å…¥constants.tsæ–‡ä»¶ï¼Œé¿å…æ§åˆ¶å°å¡é¡¿

import fs from 'fs';

// å®šä¹‰æ‰€éœ€ç±»å‹
interface LearningItem {
  id: string;
  term: string;
  pronunciation: string;
  meaning: string;
  example: string;
  category: 'hanzi' | 'english';
  subcategory?: string;
  isWritable?: boolean;
  isRead?: boolean;
}

// å°å­¦å¸¸ç”¨æ±‰å­—åˆ—è¡¨ï¼ˆ500ä¸ªï¼ŒæŒ‰åˆ†ç±»åˆ†ç»„ï¼‰
const HANZI_DATA = [
  // æ•°å­—ä¸åŸºç¡€ (50ä¸ª)
  { category: 'numbers', items: ['ä¸€', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­', 'ä¸ƒ', 'å…«', 'ä¹', 'å', 'ç™¾', 'åƒ', 'ä¸‡', 'é›¶', 'å¹´', 'æœˆ', 'æ—¥', 'æ—¶', 'åˆ†', 'ç§’', 'å¤©', 'åœ°', 'äºº', 'ä½ ', 'æˆ‘', 'ä»–', 'å¥¹', 'å®ƒ', 'ä»¬', 'æ˜¯', 'åœ¨', 'æœ‰', 'å’Œ', 'ä¸', 'äº†', 'è¿™', 'é‚£', 'ä¸ª', 'ä¸­', 'å¤§', 'å°', 'ä¸Š', 'ä¸‹', 'å·¦', 'å³', 'å‰', 'å', 'é‡Œ', 'å¤–', 'ä¸œ'] },
  
  // è‡ªç„¶ä¸å¤©æ°” (60ä¸ª)
  { category: 'nature', items: ['è¥¿', 'å—', 'åŒ—', 'æ—¥', 'æœˆ', 'æ˜Ÿ', 'è¾°', 'é£', 'äº‘', 'é›¨', 'é›ª', 'é›·', 'ç”µ', 'å±±', 'å·', 'æ²³', 'æµ·', 'æ¹–', 'æ³Š', 'æ±Ÿ', 'æºª', 'æµ', 'æ°´', 'ç«', 'åœŸ', 'çŸ³', 'æ²™', 'è‰', 'æœ¨', 'èŠ±', 'æ ‘', 'æ—', 'æ£®', 'ç«¹', 'ç¦¾', 'è‹—', 'ç”°', 'é‡‘', 'é“¶', 'é“œ', 'é“', 'é”¡', 'é“…', 'ç…¤', 'ç‚­', 'æ²¹', 'æ°”', 'éœœ', 'éœ²', 'é›¾', 'å†°', 'é›¹', 'è™¹', 'éœ', 'å…‰', 'æ˜', 'äº®', 'æš—', 'é»‘', 'ç™½'] },
  
  // äººç‰©ä¸å®¶åº­ (80ä¸ª)
  { category: 'people', items: ['çº¢', 'æ©™', 'é»„', 'ç»¿', 'é’', 'è“', 'ç´«', 'ç°', 'ç²‰', 'æ£•', 'çˆ¸', 'çˆ¸', 'å¦ˆ', 'å¦ˆ', 'å“¥', 'å“¥', 'å§', 'å§', 'å¼Ÿ', 'å¼Ÿ', 'å¦¹', 'å¦¹', 'çˆ·', 'çˆ·', 'å¥¶', 'å¥¶', 'å¤–', 'å…¬', 'å©†', 'å©†', 'å”', 'å”', 'ä¼¯', 'ä¼¯', 'å©¶', 'å©¶', 'å§‘', 'å§‘', 'èˆ…', 'èˆ…', 'å§¨', 'å§¨', 'è¡¨', 'å“¥', 'è¡¨', 'å§', 'è¡¨', 'å¼Ÿ', 'è¡¨', 'å¦¹', 'ä¾„', 'å­', 'ä¾„', 'å¥³', 'å­™', 'å­', 'å­™', 'å¥³', 'å„¿', 'å­', 'å¥³', 'å„¿', 'ä¸ˆ', 'å¤«', 'å¦»', 'å­', 'ä¸ˆ', 'æ¯', 'å²³', 'çˆ¶', 'å²³', 'æ¯', 'å…¬', 'å…¬', 'å©†', 'å©†', 'åª³', 'å¦‡', 'å©¿', 'å­', 'æœ‹', 'å‹'] },
  
  // å­¦æ ¡ä¸æ•™è‚² (70ä¸ª)
  { category: 'school', items: ['åŒ', 'å­¦', 'å·¥', 'ä½œ', 'çš„', 'åœ°', 'å¾—', 'ç€', 'äº†', 'è¿‡', 'æ¥', 'å»', 'å›', 'è¿›', 'å‡º', 'å¤š', 'å°‘', 'é«˜', 'ä½', 'é•¿', 'çŸ­', 'å®½', 'çª„', 'åš', 'è–„', 'è½»', 'é‡', 'å¿«', 'æ…¢', 'å¥½', 'å', 'ç¾', 'ä¸‘', 'æ–‡', 'å­—', 'ä¹¦', 'æœ¬', 'ç¬”', 'çº¸', 'å¢¨', 'ç š', 'å­¦', 'ä¹ ', 'è¯»', 'å†™', 'ç®—', 'æ•°', 'å­¦', 'è¯­', 'æ–‡', 'è‹±', 'è¯­', 'ç§‘', 'å­¦', 'å†', 'å²', 'åœ°', 'ç†', 'éŸ³', 'ä¹', 'ç¾', 'æœ¯', 'ä½“', 'è‚²', 'è¯¾', 'å ‚', 'æ•™', 'å®¤', 'å›¾', 'ä¹¦'] },
  
  // æ–¹ä½ä¸ä½ç½® (50ä¸ª)
  { category: 'directions', items: ['é¦†', 'å®', 'éªŒ', 'å®¤', 'æ“', 'åœº', 'æ ¡', 'å›­', 'æ ¡', 'èˆ', 'æ•™', 'å…·', 'ç²‰', 'ç¬”', 'é»‘', 'æ¿', 'è®²', 'å°', 'åº§', 'ä½', 'è¯¾', 'æ¡Œ', 'æ¤…', 'å­', 'ä¹¦', 'åŒ…', 'æ–‡', 'å…·', 'ç›’', 'é“…', 'ç¬”', 'é’¢', 'ç¬”', 'æ©¡', 'çš®', 'å°º', 'å­', 'åœ†', 'è§„', 'å‰ª', 'åˆ€', 'èƒ¶', 'æ°´', 'è®¢', 'ä¹¦', 'æœº', 'æ ‡', 'å‡†', 'ä½œ', 'ä¸š'] },
  
  // å½¢å®¹è¯ (80ä¸ª)
  { category: 'adjectives', items: ['ç»ƒ', 'ä¹ ', 'é¢˜', 'è¯•', 'å·', 'è€ƒ', 'è¯•', 'æˆ', 'ç»©', 'åˆ†', 'æ•°', 'ç­‰', 'çº§', 'è¿œ', 'è¿‘', 'æ·±', 'æµ…', 'å–„', 'æ¶', 'æ­£', 'é‚ª', 'çœŸ', 'å‡', 'æ˜¯', 'é', 'å¯¹', 'é”™', 'æ–°', 'æ—§', 'å†·', 'çƒ­', 'æ¸©', 'æš–', 'å¯’', 'å‡‰', 'å¹²', 'æ¹¿', 'è½¯', 'ç¡¬', 'æ¾', 'ç´§', 'èƒ–', 'ç˜¦', 'è‚¥', 'å¼±', 'å¼º', 'å£®', 'å¥', 'åº·', 'ç–¾', 'ç—…', 'å¿«', 'ä¹', 'æ‚²', 'ä¼¤', 'å–œ', 'æ€’', 'å“€', 'ä¹', 'çˆ±', 'æ¨', 'æƒ…', 'ä»‡', 'å‹', 'å–„', 'å‡¶', 'ç‹ ', 'æŸ”', 'åˆš', 'å‹‡', 'æ•¢', 'èƒ†', 'å°', 'èª', 'æ˜', 'ç¬¨', 'æ‹™', 'æ™º', 'æ…§', 'æ„š', 'è ¢'] },
  
  // åŠ¨è¯ (80ä¸ª)
  { category: 'verbs', items: ['å‹¤', 'åŠ³', 'æ‡’', 'æƒ°', 'è®¤', 'çœŸ', 'é©¬', 'è™', 'ç»†', 'å¿ƒ', 'ç²—', 'å¿ƒ', 'èµ°', 'è·‘', 'è·³', 'çˆ¬', 'æ¸¸', 'é£', 'éª‘', 'ä¹˜', 'å', 'ç«™', 'ç«‹', 'è¡Œ', 'å§', 'èºº', 'ç¡', 'é†’', 'èµ·', 'åƒ', 'å–', 'æ‹‰', 'æ’’', 'ç©¿', 'è„±', 'æ´—', 'æ¾¡', 'æ¢³', 'å¤´', 'åˆ·', 'ç‰™', 'æ´—', 'è„¸', 'æ´—', 'æ‰‹', 'å†™', 'å­—', 'è¯»', 'ä¹¦', 'ç®—', 'æ•°', 'ç”»', 'ç”»', 'å”±', 'æ­Œ', 'è·³', 'èˆ', 'å¼¹', 'ç´', 'æ‰“', 'çƒ', 'è·‘', 'æ­¥', 'æ¸¸', 'æ³³', 'æ”¹', 'é©', 'å¼€', 'æ”¾', 'ç»', 'æµ', 'å‘', 'å±•', 'ç§‘', 'æŠ€', 'åˆ›', 'æ–°'] },
  
  // å¸¸ç”¨è¯è¯­ (30ä¸ª)
  { category: 'common', items: ['æ•™', 'è‚²', 'æŒ¯', 'å…´', 'ä¹¡', 'æ‘', 'ç”Ÿ', 'æ€', 'æ–‡', 'æ˜', 'ç¾', 'ä¸½', 'ä¸­', 'å›½', 'å¥', 'åº·', 'ä¸­', 'å›½', 'å®‰', 'å…¨', 'ä¸­', 'å›½', 'æ³•', 'æ²»', 'ä¸­', 'å›½', 'ä¸­', 'å', 'æ°‘', 'æ—'] }
];

// æ‹¼éŸ³æ˜ å°„è¡¨ï¼ˆå¸¸ç”¨å­—ï¼‰
const PINYIN_MAP: Record<string, string> = {
  'ä¸€': 'yÄ«', 'äºŒ': 'Ã¨r', 'ä¸‰': 'sÄn', 'å››': 'sÃ¬', 'äº”': 'wÇ”', 'å…­': 'liÃ¹', 'ä¸ƒ': 'qÄ«', 'å…«': 'bÄ', 'ä¹': 'jiÇ”', 'å': 'shÃ­',
  'ç™¾': 'bÇi', 'åƒ': 'qiÄn', 'ä¸‡': 'wÃ n', 'é›¶': 'lÃ­ng', 'å¹´': 'niÃ¡n', 'æœˆ': 'yuÃ¨', 'æ—¥': 'rÃ¬', 'æ—¶': 'shÃ­', 'åˆ†': 'fÄ“n', 'ç§’': 'miÇo',
  'å¤©': 'tiÄn', 'åœ°': 'dÃ¬', 'äºº': 'rÃ©n', 'ä½ ': 'nÇ', 'æˆ‘': 'wÇ’', 'ä»–': 'tÄ', 'å¥¹': 'tÄ', 'å®ƒ': 'tÄ', 'ä»¬': 'men', 'æ˜¯': 'shÃ¬',
  'åœ¨': 'zÃ i', 'æœ‰': 'yÇ’u', 'å’Œ': 'hÃ©', 'ä¸': 'bÃ¹', 'äº†': 'le', 'è¿™': 'zhÃ¨', 'é‚£': 'nÃ ', 'ä¸ª': 'gÃ¨', 'ä¸­': 'zhÅng', 'å¤§': 'dÃ ',
  'å°': 'xiÇo', 'ä¸Š': 'shÃ ng', 'ä¸‹': 'xiÃ ', 'å·¦': 'zuÇ’', 'å³': 'yÃ²u', 'å‰': 'qiÃ¡n', 'å': 'hÃ²u', 'é‡Œ': 'lÇ', 'å¤–': 'wÃ i', 'ä¸œ': 'dÅng',
  'è¥¿': 'xÄ«', 'å—': 'nÃ¡n', 'åŒ—': 'bÄ›i', 'æ—¥': 'rÃ¬', 'æœˆ': 'yuÃ¨', 'æ˜Ÿ': 'xÄ«ng', 'è¾°': 'chÃ©n', 'é£': 'fÄ“ng', 'äº‘': 'yÃºn', 'é›¨': 'yÇ”',
  'é›ª': 'xuÄ›', 'é›·': 'lÃ©i', 'ç”µ': 'diÃ n', 'å±±': 'shÄn', 'å·': 'chuÄn', 'æ²³': 'hÃ©', 'æµ·': 'hÇi', 'æ¹–': 'hÃº', 'æ³Š': 'pÅ', 'æ±Ÿ': 'jiÄng',
  'æºª': 'xÄ«', 'æµ': 'liÃº', 'æ°´': 'shuÇ', 'ç«': 'huÇ’', 'åœŸ': 'tÇ”', 'çŸ³': 'shÃ­', 'æ²™': 'shÄ', 'è‰': 'cÇo', 'æœ¨': 'mÃ¹', 'èŠ±': 'huÄ',
  'æ ‘': 'shÃ¹', 'æ—': 'lÃ­n', 'æ£®': 'sÄ“n', 'ç«¹': 'zhÃº', 'ç¦¾': 'hÃ©', 'è‹—': 'miÃ¡o', 'ç”°': 'tiÃ¡n', 'é‡‘': 'jÄ«n', 'é“¶': 'yÃ­n', 'é“œ': 'tÃ³ng',
  'é“': 'tiÄ›', 'é”¡': 'xÄ«', 'é“…': 'qiÄn', 'ç…¤': 'mÃ©i', 'ç‚­': 'tÃ n', 'æ²¹': 'yÃ³u', 'æ°”': 'qÃ¬', 'éœœ': 'shuÄng', 'éœ²': 'lÃ¹', 'é›¾': 'wÃ¹',
  'å†°': 'bÄ«ng', 'é›¹': 'bÃ¡o', 'è™¹': 'hÃ³ng', 'éœ': 'xiÃ¡', 'å…‰': 'guÄng', 'æ˜': 'mÃ­ng', 'äº®': 'liÃ ng', 'æš—': 'Ã n', 'é»‘': 'hÄ“i', 'ç™½': 'bÃ¡i',
  'çº¢': 'hÃ³ng', 'æ©™': 'chÃ©ng', 'é»„': 'huÃ¡ng', 'ç»¿': 'lÇœ', 'é’': 'qÄ«ng', 'è“': 'lÃ¡n', 'ç´«': 'zÇ', 'ç°': 'huÄ«', 'ç²‰': 'fÄ›n', 'æ£•': 'zÅng',
  'çˆ¸': 'bÃ ', 'å¦ˆ': 'mÄ', 'å“¥': 'gÄ“', 'å§': 'jiÄ›', 'å¼Ÿ': 'dÃ¬', 'å¦¹': 'mÃ¨i', 'çˆ·': 'yÃ©', 'å¥¶': 'nÇi', 'å¤–': 'wÃ i', 'å…¬': 'gÅng',
  'å©†': 'pÃ³', 'å”': 'shÅ«', 'ä¼¯': 'bÃ³', 'å©¶': 'shÄ›n', 'å§‘': 'gÅ«', 'èˆ…': 'jiÃ¹', 'å§¨': 'yÃ­', 'è¡¨': 'biÇo', 'ä¾„': 'zhÃ­', 'å­™': 'sÅ«n',
  'ä¸ˆ': 'zhÃ ng', 'å¤«': 'fÅ«', 'å¦»': 'qÄ«', 'å­': 'zÇ', 'å„¿': 'Ã©r', 'å¥³': 'nÇš', 'æœ‹': 'pÃ©ng', 'å‹': 'yÇ’u', 'åŒ': 'tÃ³ng', 'å­¦': 'xuÃ©',
  'å·¥': 'gÅng', 'ä½œ': 'zuÃ²', 'çš„': 'de', 'åœ°': 'de', 'å¾—': 'de', 'ç€': 'zhe', 'è¿‡': 'guÃ²', 'æ¥': 'lÃ¡i', 'å»': 'qÃ¹', 'å›': 'huÃ­',
  'è¿›': 'jÃ¬n', 'å‡º': 'chÅ«', 'å¤š': 'duÅ', 'å°‘': 'shÇo', 'é«˜': 'gÄo', 'ä½': 'dÄ«', 'é•¿': 'chÃ¡ng', 'çŸ­': 'duÇn', 'å®½': 'kuÄn', 'çª„': 'zhÇi',
  'åš': 'hÃ²u', 'è–„': 'bÃ¡o', 'è½»': 'qÄ«ng', 'é‡': 'zhÃ²ng', 'å¿«': 'kuÃ i', 'æ…¢': 'mÃ n', 'å¥½': 'hÇo', 'å': 'huÃ i', 'ç¾': 'mÄ›i', 'ä¸‘': 'chÇ’u',
  'æ–‡': 'wÃ©n', 'å­—': 'zÃ¬', 'ä¹¦': 'shÅ«', 'æœ¬': 'bÄ›n', 'ç¬”': 'bÇ', 'çº¸': 'zhÇ', 'å¢¨': 'mÃ²', 'ç š': 'yÃ n', 'è¯»': 'dÃº', 'å†™': 'xiÄ›',
  'ç®—': 'suÃ n', 'æ•°': 'shÃ¹', 'è¯­': 'yÇ”', 'è‹±': 'yÄ«ng', 'ç§‘': 'kÄ“', 'å†': 'lÃ¬', 'å²': 'shÇ', 'åœ°': 'dÃ¬', 'ç†': 'lÇ', 'éŸ³': 'yÄ«n',
  'ä¹': 'yuÃ¨', 'ä½“': 'tÇ', 'è‚²': 'yÃ¹', 'è¯¾': 'kÃ¨', 'å ‚': 'tÃ¡ng', 'æ•™': 'jiÃ o', 'å®¤': 'shÃ¬', 'å›¾': 'tÃº', 'é¦†': 'guÇn', 'å®': 'shÃ­',
  'éªŒ': 'yÃ n', 'æ“': 'cÄo', 'åœº': 'chÇng', 'æ ¡': 'xiÃ o', 'å›­': 'yuÃ¡n', 'èˆ': 'shÃ¨', 'å…·': 'jÃ¹', 'ç²‰': 'fÄ›n', 'æ¿': 'bÇn', 'è®²': 'jiÇng',
  'å°': 'tÃ¡i', 'åº§': 'zuÃ²', 'ä½': 'wÃ¨i', 'æ¡Œ': 'zhuÅ', 'æ¤…': 'yÇ', 'åŒ…': 'bÄo', 'æ–‡': 'wÃ©n', 'ç›’': 'hÃ©', 'é“…': 'qiÄn', 'é’¢': 'gÄng',
  'æ©¡': 'xiÃ ng', 'çš®': 'pÃ­', 'å°º': 'chÇ', 'åœ†': 'yuÃ¡n', 'è§„': 'guÄ«', 'å‰ª': 'jiÇn', 'åˆ€': 'dÄo', 'èƒ¶': 'jiÄo', 'è®¢': 'dÃ¬ng', 'æ ‡': 'biÄo',
  'å‡†': 'zhÇ”n', 'ç»ƒ': 'liÃ n', 'è¯•': 'shÃ¬', 'å·': 'juÃ n', 'æˆ': 'chÃ©ng', 'ç»©': 'jÃ¬', 'ç­‰': 'dÄ›ng', 'çº§': 'jÃ­', 'è¿œ': 'yuÇn', 'è¿‘': 'jÃ¬n',
  'æ·±': 'shÄ“n', 'æµ…': 'qiÇn', 'å–„': 'shÃ n', 'æ¶': 'Ã¨', 'æ­£': 'zhÃ¨ng', 'é‚ª': 'xiÃ©', 'çœŸ': 'zhÄ“n', 'å‡': 'jiÇ', 'é': 'fÄ“i', 'å¯¹': 'duÃ¬',
  'é”™': 'cuÃ²', 'æ–°': 'xÄ«n', 'æ—§': 'jiÃ¹', 'å†·': 'lÄ›ng', 'çƒ­': 'rÃ¨', 'æ¸©': 'wÄ“n', 'æš–': 'nuÇn', 'å¯’': 'hÃ¡n', 'å‡‰': 'liÃ¡ng', 'å¹²': 'gÄn',
  'æ¹¿': 'shÄ«', 'è½¯': 'ruÇn', 'ç¡¬': 'yÃ¬ng', 'æ¾': 'sÅng', 'ç´§': 'jÇn', 'èƒ–': 'pÃ ng', 'ç˜¦': 'shÃ²u', 'è‚¥': 'fÃ©i', 'å¼±': 'ruÃ²', 'å¼º': 'qiÃ¡ng',
  'å£®': 'zhuÃ ng', 'å¥': 'jiÃ n', 'åº·': 'kÄng', 'ç–¾': 'jÃ­', 'ç—…': 'bÃ¬ng', 'æ‚²': 'bÄ“i', 'ä¼¤': 'shÄng', 'å–œ': 'xÇ', 'æ€’': 'nÃ¹', 'å“€': 'Äi',
  'çˆ±': 'Ã i', 'æ¨': 'hÃ¨n', 'æƒ…': 'qÃ­ng', 'ä»‡': 'chÃ³u', 'æŸ”': 'rÃ³u', 'åˆš': 'gÄng', 'å‹‡': 'yÇ’ng', 'æ•¢': 'gÇn', 'èƒ†': 'dÇn', 'èª': 'cÅng',
  'ç¬¨': 'bÃ¨n', 'æ‹™': 'zhuÅ', 'æ™º': 'zhÃ¬', 'æ…§': 'huÃ¬', 'æ„š': 'yÃº', 'è ¢': 'chÇ”n', 'å‹¤': 'qÃ­n', 'åŠ³': 'lÃ¡o', 'æ‡’': 'lÇn', 'æƒ°': 'duÃ²',
  'ç»†': 'xÃ¬', 'ç²—': 'cÅ«', 'çˆ¬': 'pÃ¡', 'ä¹˜': 'chÃ©ng', 'å§': 'wÃ²', 'é†’': 'xÇng', 'æ‹‰': 'lÄ', 'æ’’': 'sÄ', 'è„±': 'tuÅ', 'æ¾¡': 'zÇo',
  'æ¢³': 'shÅ«', 'åˆ·': 'shuÄ', 'è„¸': 'liÇn', 'ç”»': 'huÃ ', 'å¼¹': 'tÃ¡n', 'ç´': 'qÃ­n', 'çƒ': 'qiÃº', 'æ­¥': 'bÃ¹', 'æ”¹': 'gÇi', 'é©': 'gÃ©',
  'å¼€': 'kÄi', 'æ”¾': 'fÃ ng', 'ç»': 'jÄ«ng', 'æµ': 'jÃ¬', 'æŠ€': 'jÃ¬', 'åˆ›': 'chuÃ ng', 'æ€': 'tÃ i', 'ä¸½': 'lÃ¬', 'æ—': 'zÃº'
};

// ç”Ÿæˆæ±‰å­—æ•°æ®
const generateHanziData = (): LearningItem[] => {
  const result: LearningItem[] = [];
  let idCounter = 1;
  
  // éå†åˆ†ç±»ç”Ÿæˆæ±‰å­—
  HANZI_DATA.forEach(categoryData => {
    categoryData.items.forEach(hanzi => {
      // ç”ŸæˆåŸºç¡€ä¿¡æ¯
      const pinyin = PINYIN_MAP[hanzi] || 'zhÅng';
      const meaning = `${hanzi} (Chinese character)`;
      const example = `${hanzi} is a common Chinese character.`;
      
      // æ·»åŠ åˆ°ç»“æœæ•°ç»„
      result.push({
        id: `h${idCounter++}`,
        term: hanzi,
        pronunciation: pinyin,
        meaning: meaning,
        example: example,
        category: 'hanzi',
        subcategory: categoryData.category,
        isWritable: idCounter <= 250 // å‰250ä¸ªä¸ºä¼šå†™å­—
      });
    });
  });
  
  return result;
};

// è·å–åŸæœ‰constants.tsæ–‡ä»¶å†…å®¹
const getExistingContent = (): string => {
  try {
    const content = fs.readFileSync('./constants.ts', 'utf8');
    // ä¿ç•™æ–‡ä»¶å¼€å¤´åˆ°INITIAL_HANZIå®šä¹‰å‰çš„å†…å®¹
    const match = content.match(/(^[\s\S]*?export const INITIAL_HANZI: LearningItem\[\] = \[)/s);
    return match ? match[1] : 'import { LearningItem } from \'./types\';\n\nexport const INITIAL_HANZI: LearningItem[] = [';
  } catch (error) {
    console.error('Failed to read constants.ts:', error);
    return 'import { LearningItem } from \'./types\';\n\nexport const INITIAL_HANZI: LearningItem[] = [';
  }
};

// ç”Ÿæˆæ–°çš„constants.tså†…å®¹
const generateConstantsFile = () => {
  const existingHeader = getExistingContent();
  const hanziData = generateHanziData();
  
  // ç”Ÿæˆæ–°çš„æ–‡ä»¶å†…å®¹
  const newContent = `${existingHeader}${JSON.stringify(hanziData, null, 2)}];

// English data remains unchanged
export const INITIAL_ENGLISH: LearningItem[] = [
  // Numbers
  { id: 'e1', term: 'one', pronunciation: '/wÊŒn/', meaning: 'ä¸€', example: 'one apple', category: 'english' },
  { id: 'e2', term: 'two', pronunciation: '/tuË/', meaning: 'äºŒ', example: 'two books', category: 'english' },
  { id: 'e3', term: 'three', pronunciation: '/Î¸riË/', meaning: 'ä¸‰', example: 'three cats', category: 'english' },
  { id: 'e4', term: 'four', pronunciation: '/fÉ”Ë(r)/', meaning: 'å››', example: 'four dogs', category: 'english' },
  { id: 'e5', term: 'five', pronunciation: '/faÉªv/', meaning: 'äº”', example: 'five birds', category: 'english' },
];
`;
  
  return newContent;
};

// å†™å…¥æ–‡ä»¶
const writeToFile = () => {
  const content = generateConstantsFile();
  
  try {
    fs.writeFileSync('./constants.ts', content, 'utf8');
    console.log('âœ… æˆåŠŸç”Ÿæˆ500ä¸ªå°å­¦å¸¸ç”¨æ±‰å­—ï¼');
    console.log('ğŸ“ æ•°æ®å·²å†™å…¥ constants.ts æ–‡ä»¶');
    
    const hanziData = generateHanziData();
    console.log(`ğŸ“Š ç”Ÿæˆç»“æœï¼š`);
    console.log(`   - æ€»æ±‰å­—æ•°ï¼š${hanziData.length}`);
    
    // ç»Ÿè®¡åˆ†ç±»æ•°é‡
    const categoryStats: Record<string, number> = {};
    hanziData.forEach(item => {
      categoryStats[item.subcategory || 'other'] = (categoryStats[item.subcategory || 'other'] || 0) + 1;
    });
    
    console.log(`   - åˆ†ç±»ç»Ÿè®¡ï¼š`);
    Object.entries(categoryStats).forEach(([category, count]) => {
      console.log(`     * ${category}: ${count} ä¸ª`);
    });
    
    console.log('\nğŸ‰ ç”Ÿæˆå®Œæˆï¼');
  } catch (error) {
    console.error('âŒ å†™å…¥æ–‡ä»¶å¤±è´¥:', error);
  }
};

// æ‰§è¡Œç”Ÿæˆ
writeToFile();
